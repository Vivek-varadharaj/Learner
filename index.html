<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>A Small Ritual</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>
    <!-- Firebase Config - Must be loaded before script.js -->
    <script src="firebase-config.js"></script>
</head>
<body>
    <!-- Login Screen -->
    <div class="screen login-screen" id="loginScreen">
        <div class="content-wrapper">
            <p class="intro-text">A small ritual for today.</p>
            <div class="auth-container">
                <input type="email" id="loginEmail" placeholder="Email" class="auth-input">
                <input type="password" id="loginPassword" placeholder="Password" class="auth-input">
                <button class="btn-primary" id="loginButton">Sign In</button>
                <button class="btn-secondary" id="showSignupButton">Create Account</button>
                <p id="authError" class="error-message hidden"></p>
            </div>
        </div>
    </div>

    <!-- Signup Screen -->
    <div class="screen signup-screen hidden" id="signupScreen">
        <div class="content-wrapper">
            <p class="intro-text">Create your account</p>
            <div class="auth-container">
                <input type="email" id="signupEmail" placeholder="Email" class="auth-input">
                <input type="password" id="signupPassword" placeholder="Password (min 6 characters)" class="auth-input">
                <button class="btn-primary" id="signupButton">Sign Up</button>
                <button class="btn-secondary" id="showLoginButton">Back to Sign In</button>
                <p id="signupError" class="error-message hidden"></p>
            </div>
        </div>
    </div>

    <!-- Landing Screen -->
    <div class="screen landing-screen hidden" id="landingScreen">
        <div class="content-wrapper">
            <p class="intro-text">Welcome back.</p>
            <button class="btn-primary" id="startButton">Begin</button>
            <button class="btn-secondary" id="logoutButton" style="margin-top: 20px;">Sign Out</button>
        </div>
    </div>

    <!-- Loading Screen -->
    <div class="screen loading-screen hidden" id="loadingScreen">
        <div class="content-wrapper">
            <div class="spinner"></div>
            <p class="loading-text">Loading today's content...</p>
        </div>
    </div>

    <!-- No Content Screen -->
    <div class="screen no-content-screen hidden" id="noContentScreen">
        <div class="content-wrapper">
            <p class="message-text">Nothing for today. Come back tomorrow.</p>
            <button class="btn-secondary" id="backToLandingButton1">Back</button>
        </div>
    </div>

    <!-- Daily Content Screen -->
    <div class="screen content-screen hidden" id="contentScreen">
        <div class="content-wrapper">
            <div class="progress-indicator">
                <span id="progressText">Question 1 of 3</span>
            </div>
            
            <div class="question-container">
                <h2 class="question-text" id="questionText"></h2>
                
                <div class="answer-wrapper">
                    <div class="answer-container" id="answerContainer">
                        <div class="answer-text" id="answerText"></div>
                        <div class="answer-overlay" id="answerOverlay">
                            <div class="tap-hint">Tap to reveal the answer</div>
                        </div>
                    </div>
                </div>
                
                <button class="btn-next hidden" id="nextButton">Next</button>
            </div>
        </div>
    </div>

    <!-- Daily Completion Screen -->
    <div class="screen completion-screen hidden" id="completionScreen">
        <div class="content-wrapper">
            <p class="completion-text">You showed up today.</p>
            <button class="btn-secondary" id="backToLandingButton2">Continue Learning</button>
        </div>
    </div>


    <!-- Final Prize Screen -->
    <div class="screen prize-screen hidden" id="prizeScreen">
        <div class="content-wrapper">
            <div class="prize-container">
                <div class="book-icon">ðŸ“–</div>
                <h1 class="prize-title">Oru Desathinte Katha</h1>
                <p class="prize-message">For your consistency and presence.</p>
            </div>
            <button class="btn-secondary" id="backToLandingButton4">Back</button>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>